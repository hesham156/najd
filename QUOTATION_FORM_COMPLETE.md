# ๐ ูููุฐุฌ ุฅูุดุงุก ุนุฑุถ ุงูุณุนุฑ - ููุชูู!

## โ ุชู ุงูุฅูุฌุงุฒ

ุชู ุฅูุดุงุก **ูููุฐุฌ ุฅูุดุงุก ุนุฑุถ ุงูุณุนุฑ ุงููุงูู** ุจุฌููุน ุงูููุฒุงุช ุงููุทููุจุฉ!

---

## ๐ฏ ุงูููุฒุงุช ุงููุทุจูุฉ

### โ 1. ุฅุฏุงุฑุฉ ุงูุจููุฏ (Items)
- โ ุฅุถุงูุฉ ุจููุฏ ูุชุนุฏุฏุฉ
- โ ุญุฐู ุงูุจููุฏ (ูุน ุงูุญูุงุธ ุนูู ุจูุฏ ูุงุญุฏ ุนูู ุงูุฃูู)
- โ ุญููู ููู ุจูุฏ:
  - ุงููุตู (ูุต)
  - ุงููููุฉ (ุฑูู)
  - ุณุนุฑ ุงููุญุฏุฉ (ุฑูู ุนุดุฑู)
  - ุงููุฌููุน (ููุญุณุจ ุชููุงุฆูุงู)
  - ููุงุญุธุงุช (ุงุฎุชูุงุฑู)

### โ 2. ุงูุญุณุงุจุงุช ุงูุชููุงุฆูุฉ
- โ ุญุณุงุจ ูุฌููุน ูู ุจูุฏ ุชููุงุฆูุงู: `ุงููููุฉ ร ุณุนุฑ ุงููุญุฏุฉ`
- โ ุญุณุงุจ ุงููุฌููุน ุงููุฑุนู: ูุฌููุน ุฌููุน ุงูุจููุฏ
- โ ุฏุนู ุงูุฎุตู (ูุจูุบ ุฃู ูุณุจุฉ ูุฆููุฉ)
- โ ุญุณุงุจ ุงูุถุฑูุจุฉ (15%) ุชููุงุฆูุงู
- โ ุญุณุงุจ ุงููุฌููุน ุงูุฅุฌูุงูู ุงูููุงุฆู
- โ ุญุณุงุจ ุงูุฏูุนุฉ ุงูููุฏูุฉ ูุงููุจูุบ ุงููุชุจูู

### โ 3. ุดุฑูุท ุงูุฏูุน
- โ ุทุฑููุฉ ุงูุฏูุน (ูุงุจูุฉ ููุชุนุฏูู)
- โ ูุณุจุฉ ุงูุฏูุนุฉ ุงูููุฏูุฉ (0-100%)
- โ ุนุฑุถ ุงูุฏูุนุฉ ุงูููุฏูุฉ ูุงููุจูุบ ุงููุชุจูู

### โ 4. ุดุฑูุท ุงูุชุณููู
- โ ุดุฑูุท ุงูุชุณููู (ูุต ุญุฑ)
- โ ูุฏุฉ ุงูุชุณููู (ูุซู: 7-10 ุฃูุงู ุนูู)

### โ 5. ุตูุงุญูุฉ ุนุฑุถ ุงูุณุนุฑ
- โ ุชุญุฏูุฏ ุนุฏุฏ ุงูุฃูุงู (ุงูุชุฑุงุถู: 14 ููู)
- โ ุนุฑุถ ุชุงุฑูุฎ ุงูุชูุงุก ุงูุตูุงุญูุฉ ุชููุงุฆูุงู

### โ 6. ููุงุญุธุงุช ูุดุฑูุท
- โ ููุงุญุธุงุช ุฅุถุงููุฉ (ุงุฎุชูุงุฑู)
- โ ุงูุดุฑูุท ูุงูุฃุญูุงู (ููู ุงูุชุฑุงุถูุฉ ูุงุจูุฉ ููุชุนุฏูู)

### โ 7. ุงูุญูุธ ูุงูุฑุจุท
- โ ุชูููุฏ ุฑูู ุนุฑุถ ุณุนุฑ ุชููุงุฆู (QT-2025-0001)
- โ ุญูุธ ุนุฑุถ ุงูุณุนุฑ ูู collection "quotations"
- โ ุฑุจุท ุนุฑุถ ุงูุณุนุฑ ุจุงูุทูุจ (ุชุญุฏูุซ Order)
- โ ุญูุธ ุฌููุน ุงูุญุณุงุจุงุช ูุงูุชูุงุฑูุฎ

### โ 8. Validation
- โ ุงูุชุญูู ูู ุฃู ุฌููุน ุงูุจููุฏ ููุชููุฉ
- โ ุงูุชุญูู ูู ุทุฑููุฉ ุงูุฏูุน
- โ ููุน ุงูุญูุธ ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ๐ผ๏ธ ุงูุฃูุณุงู:

1. **ูุนูููุงุช ุงูุนููู**
   - ุงุณู ุงูุนูููุ ุฑูู ุงููุงุชูุ ุงูุจุฑูุฏุ ุงูุนููุงู
   - ุชููุณุฎ ุชููุงุฆูุงู ูู ุงูุทูุจ

2. **ุจููุฏ ุนุฑุถ ุงูุณุนุฑ**
   - ุจุทุงูุฉ ูููุตูุฉ ููู ุจูุฏ
   - ุฒุฑ "ุฅุถุงูุฉ ุจูุฏ"
   - ุฒุฑ "ุญุฐู" ููู ุจูุฏ
   - ุนุฑุถ ุงููุฌููุน ููู ุจูุฏ

3. **ุงูุญุณุงุจุงุช ุงููุงููุฉ**
   - ุฎุงูุฉ ุงูุฎุตู (ูุจูุบ ุฃู ูุณุจุฉ)
   - ุนุฑุถ ุชูุตููู ููุญุณุงุจุงุช:
     - ุงููุฌููุน ุงููุฑุนู
     - ุงูุฎุตู (ุฅู ูุฌุฏ)
     - ุจุนุฏ ุงูุฎุตู
     - ุงูุถุฑูุจุฉ (15%)
     - **ุงููุฌููุน ุงูุฅุฌูุงูู** (ุจุงุฑุฒ)

4. **ุดุฑูุท ุงูุฏูุน**
   - ุทุฑููุฉ ุงูุฏูุน
   - ูุณุจุฉ ุงูุฏูุนุฉ ุงูููุฏูุฉ
   - ุนุฑุถ ุงูุฏูุนุฉ ูุงููุจูุบ ุงููุชุจูู

5. **ุดุฑูุท ุงูุชุณููู**
   - ุดุฑูุท ุงูุชุณููู
   - ูุฏุฉ ุงูุชุณููู

6. **ุตูุงุญูุฉ ุนุฑุถ ุงูุณุนุฑ**
   - ุนุฏุฏ ุงูุฃูุงู
   - ุนุฑุถ ุชุงุฑูุฎ ุงูุชูุงุก ุงูุตูุงุญูุฉ

7. **ููุงุญุธุงุช ูุดุฑูุท**
   - ููุงุญุธุงุช ุฅุถุงููุฉ
   - ุงูุดุฑูุท ูุงูุฃุญูุงู

8. **ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุก**
   - ุญูุธ ุนุฑุถ ุงูุณุนุฑ (ุฃุฒุฑู)
   - ุฅูุบุงุก (ุฑูุงุฏู)

---

## ๐พ ุจููุฉ ุงูุจูุงูุงุช ุงููุญููุธุฉ

```typescript
{
  quotationNumber: "QT-2025-0001",
  status: "quotation_draft",
  
  // Customer info
  customerName: "ุดุฑูุฉ ุงูุฃูู",
  customerPhone: "+966501234567",
  customerEmail: "info@alamal.com",
  customerAddress: "ุงูุฑูุงุถ",
  
  // Related order
  relatedOrderId: "order_123",
  relatedOrderNumber: "NAJD-2025-0002",
  
  // Items
  items: [
    {
      description: "ูุฑูุช ุดุฎุตูุฉ",
      quantity: 1000,
      unitPrice: 0.50,
      totalPrice: 500.00,
      notes: ""
    }
  ],
  
  // Financial
  subtotal: 500.00,
  taxRate: 15,
  taxAmount: 75.00,
  discount: 0,
  discountPercentage: null,
  totalAmount: 575.00,
  
  // Payment terms
  paymentTerms: {
    method: "ููุฏู ุฃู ุชุญููู ุจููู",
    downPaymentPercentage: 50,
    downPaymentAmount: 287.50,
    remainingPaymentTerms: "ุงููุจูุบ ุงููุชุจูู: 287.50 ุฑ.ุณ"
  },
  
  // Delivery
  deliveryTerms: "ุงูุชุณููู ุญุณุจ ุงูุงุชูุงู",
  deliveryDuration: "7-10 ุฃูุงู ุนูู",
  
  // Dates
  issueDate: "2025-11-04T...",
  validUntil: "2025-11-18T...",
  expiryDate: "2025-11-18T...",
  
  // Created by
  preparedBy: "user_uid",
  preparedByName: "ูุงุทูุฉ - ูุญุงุณุจ",
  
  // Notes
  notes: "",
  terms: "ุงูุฃุณุนุงุฑ ุดุงููุฉ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ...",
  
  // Metadata
  createdAt: serverTimestamp(),
  updatedAt: serverTimestamp(),
  tags: ["draft"]
}
```

---

## ๐ ุงูุณูุฑ ุงููุงูู

```
1. ุงููุจูุนุงุช ููุดุฆ ุทูุจ ุนุฑุถ ุณุนุฑ
   โ
2. ุงูุทูุจ ูุธูุฑ ููุณู ุงูุญุณุงุจุงุช
   โ
3. ุงููุญุงุณุจ ููุชุญ ุชูุงุตูู ุงูุทูุจ
   โ
4. ูุถุบุท ุนูู "ุฅูุดุงุก ุนุฑุถ ุณุนุฑ"
   โ
5. ูููุฃ ุงููููุฐุฌ ุงููุงูู:
   - ุงูุจููุฏ ูุงูุฃุณุนุงุฑ โ
   - ุงูุฎุตู (ุฅู ูุฌุฏ) โ
   - ุดุฑูุท ุงูุฏูุน โ
   - ุดุฑูุท ุงูุชุณููู โ
   - ุงูุตูุงุญูุฉ โ
   - ุงูููุงุญุธุงุช โ
   โ
6. ูุถุบุท "ุญูุธ ุนุฑุถ ุงูุณุนุฑ"
   โ
7. ุงููุธุงู:
   - ููููุฏ ุฑูู ุนุฑุถ ุณุนุฑ โ
   - ูุญูุธ ูู Firestore โ
   - ูุฑุจุทู ุจุงูุทูุจ โ
   โ
8. ุฑุณุงูุฉ ูุฌุงุญ ูุนูุฏุฉ ูุตูุญุฉ ุงูุทูุจ โ
   โ
9. ุงูุทูุจ ุงูุขู ูุญูู:
   - quotationId โ
   - quotationNumber โ
```

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุฎุทูุฉ 1: ุงููุตูู ูููููุฐุฌ

ูู ุตูุญุฉ ุชูุงุตูู ุงูุทูุจุ ุงุถุบุท ุนูู ุฒุฑ **"ุฅูุดุงุก ุนุฑุถ ุณุนุฑ"**

### ุงูุฎุทูุฉ 2: ููุก ุงูุจููุฏ

1. ุงูุจูุฏ ุงูุฃูู ููููุฃ ุชููุงุฆูุงู ูู ุงูุทูุจ
2. ุฃุถู ุงููุฒูุฏ ูู ุงูุจููุฏ ุจุงูุถุบุท ุนูู "+ ุฅุถุงูุฉ ุจูุฏ"
3. ููู ุจูุฏ:
   - ุงููุตู (ูุซู: "ูุฑูุช ุดุฎุตูุฉ")
   - ุงููููุฉ (ูุซู: 1000)
   - ุณุนุฑ ุงููุญุฏุฉ (ูุซู: 0.50)
   - **ุงููุฌููุน ููุญุณุจ ุชููุงุฆูุงู!**

### ุงูุฎุทูุฉ 3: ุชุทุจูู ุฎุตู (ุงุฎุชูุงุฑู)

1. ุฃุฏุฎู ูููุฉ ุงูุฎุตู
2. ุงุฎุชุฑ ุงูููุน:
   - ูุจูุบ (ุฑ.ุณ)
   - ูุณุจุฉ ูุฆููุฉ (%)
3. **ุงูุญุณุงุจุงุช ุชุชุญุฏุซ ุชููุงุฆูุงู!**

### ุงูุฎุทูุฉ 4: ุดุฑูุท ุงูุฏูุน

1. ุทุฑููุฉ ุงูุฏูุน (ุงูุชุฑุงุถู: "ููุฏู ุฃู ุชุญููู ุจููู")
2. ูุณุจุฉ ุงูุฏูุนุฉ ุงูููุฏูุฉ (ุงูุชุฑุงุถู: 50%)
3. **ุงูุฏูุนุฉ ูุงููุจูุบ ุงููุชุจูู ููุญุณุจุงู ุชููุงุฆูุงู!**

### ุงูุฎุทูุฉ 5: ุดุฑูุท ุงูุชุณููู

1. ุดุฑูุท ุงูุชุณููู (ูุซู: "ุงูุชุณููู ุญุณุจ ุงูุงุชูุงู")
2. ูุฏุฉ ุงูุชุณููู (ูุซู: "7-10 ุฃูุงู ุนูู")

### ุงูุฎุทูุฉ 6: ุงูุตูุงุญูุฉ

1. ุนุฏุฏ ุงูุฃูุงู (ุงูุชุฑุงุถู: 14 ููู)
2. **ุชุงุฑูุฎ ุงูุชูุงุก ุงูุตูุงุญูุฉ ููุนุฑุถ ุชููุงุฆูุงู!**

### ุงูุฎุทูุฉ 7: ุงูููุงุญุธุงุช ูุงูุดุฑูุท

1. ุฃุถู ุฃู ููุงุญุธุงุช ุฅุถุงููุฉ
2. ุนุฏูู ุงูุดุฑูุท ูุงูุฃุญูุงู ุฅุฐุง ูุฒู ุงูุฃูุฑ

### ุงูุฎุทูุฉ 8: ุงูุญูุธ

ุงุถุบุท ุนูู **"๐พ ุญูุธ ุนุฑุถ ุงูุณุนุฑ"**

โ ุณูุชู:
- ุญูุธ ุนุฑุถ ุงูุณุนุฑ
- ุฑุจุทู ุจุงูุทูุจ
- ุชูุฌููู ูุตูุญุฉ ุงูุทูุจ

---

## ๐ ุงูุญุณุงุจุงุช ุงูุชููุงุฆูุฉ

### ูุซุงู ุนููู:

**ุงูุจููุฏ:**
- ุจูุฏ 1: 1000 ร 0.50 = 500 ุฑ.ุณ
- ุจูุฏ 2: 500 ร 2.00 = 1000 ุฑ.ุณ

**ุงููุฌููุน ุงููุฑุนู:** 1500 ุฑ.ุณ

**ุงูุฎุตู:** 100 ุฑ.ุณ (ุฃู 10%)

**ุจุนุฏ ุงูุฎุตู:** 1400 ุฑ.ุณ

**ุงูุถุฑูุจุฉ (15%):** 210 ุฑ.ุณ

**ุงููุฌููุน ุงูุฅุฌูุงูู:** 1610 ุฑ.ุณ

**ุงูุฏูุนุฉ ุงูููุฏูุฉ (50%):** 805 ุฑ.ุณ

**ุงููุจูุบ ุงููุชุจูู:** 805 ุฑ.ุณ

---

## โ ุงูููู ุงูุงูุชุฑุงุถูุฉ

| ุงูุญูู | ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ |
|-------|-------------------|
| ูุณุจุฉ ุงูุถุฑูุจุฉ | 15% (VAT ูู ุงูุณุนูุฏูุฉ) |
| ุทุฑููุฉ ุงูุฏูุน | "ููุฏู ุฃู ุชุญููู ุจููู" |
| ูุณุจุฉ ุงูุฏูุนุฉ ุงูููุฏูุฉ | 50% |
| ุดุฑูุท ุงูุชุณููู | "ุงูุชุณููู ุญุณุจ ุงูุงุชูุงู" |
| ูุฏุฉ ุงูุชุณููู | "7-10 ุฃูุงู ุนูู" |
| ุตูุงุญูุฉ ุงูุนุฑุถ | 14 ููู |
| ุงูุดุฑูุท ูุงูุฃุญูุงู | ูุต ุงูุชุฑุงุถู ูุงุจู ููุชุนุฏูู |

---

## ๐ Validation

ุงููููุฐุฌ ูุชุญูู ูู:

โ **ุฌููุน ุงูุจููุฏ:**
- ุงููุตู ุบูุฑ ูุงุฑุบ
- ุงููููุฉ > 0
- ุณุนุฑ ุงููุญุฏุฉ > 0

โ **ุทุฑููุฉ ุงูุฏูุน:**
- ุบูุฑ ูุงุฑุบุฉ

โ **ุนุฏู ุงูุณูุงุญ ุจุงูุญูุธ:**
- ุฅุฐุง ูุงูุช ุฃู ุจูุงูุงุช ูุทููุจุฉ ูุงูุตุฉ

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุงูุขู ุจุนุฏ ุฅูุดุงุก ุนุฑุถ ุงูุณุนุฑุ ูููู:

1. **ูุฑุงุฌุนุชู** (ูู ุงููุฑุญูุฉ ุงูุชุงููุฉ)
2. **ุทูุจ ุงูููุงููุฉ** ูู ูุฏูุฑ ุงูุญุณุงุจุงุช
3. **ุฅุฑุณุงูู ููุนููู**
4. **ุชุชุจุน ุฑุฏ ุงูุนููู**
5. **ุชุญูููู ูุทูุจ ุชูููุฐ** ุนูุฏ ุงูููุงููุฉ

---

## ๐ ุงููููุงุช

| ุงูููู | ุงููุตู |
|------|-------|
| `apps/web/src/app/accounting/quotations/new/page.tsx` | ุงููููุฐุฌ ุงููุงูู โ |
| `packages/shared/src/types/quotation.types.ts` | ุฃููุงุน ุงูุจูุงูุงุช โ |
| `firestore.rules` | ุตูุงุญูุงุช ุงูุฃูุงู โ |
| `firestore.indexes.json` | Indexes โ |

---

## ๐ ุงูุฎูุงุตุฉ

โ **ุงููููุฐุฌ ูุงูู ููุชูุงูู!**

ุชู ุชุทุจูู ุฌููุน ุงูููุฒุงุช:
- โ ุฅุฏุงุฑุฉ ุงูุจููุฏ
- โ ุงูุญุณุงุจุงุช ุงูุชููุงุฆูุฉ
- โ ุงูุถุฑูุจุฉ (15%)
- โ ุงูุฎุตู
- โ ุดุฑูุท ุงูุฏูุน
- โ ุดุฑูุท ุงูุชุณููู
- โ ุงูุตูุงุญูุฉ
- โ ุงูููุงุญุธุงุช ูุงูุดุฑูุท
- โ ุงูุญูุธ ูุงูุฑุจุท
- โ Validation

**ุฌุฑูุจ ุงูุขู!** ๐

---

ยฉ 2024 ุดุฑูุฉ ูุฌุฏ - ุฌููุน ุงูุญููู ูุญููุธุฉ


