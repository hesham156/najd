# ูุธุงู ุฅุฏุงุฑุฉ ุดุฑูุฉ ูุฌุฏ ๐ข

<div dir="rtl">

ูุธุงู ุฅุฏุงุฑุฉ ุฏุงุฎูู ูุชูุงูู ูุดุฑูุฉ ูุฌุฏุ ูุดูู ุชุทุจูู ููุจ (Next.js) ูุชุทุจูู ููุจุงูู (React Native + Expo) ูุน Firebase ูุฎูููุฉ ูุงููุฉ.

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุนูููุงุช ุดุฑูุฉ ูุฌุฏ ุงูุฏุงุฎููุฉุ ูุชุถูู:
- **ุฅุฏุงุฑุฉ ุงูุทูุจุงุช**: ูู ุงูุฅูุดุงุก ุญุชู ุงูุชุณููู
- **ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู**: ุตูุงุญูุงุช ูุญุฏุฏุฉ ููู ุฏูุฑ
- **ุฅุดุนุงุฑุงุช ููุฑูุฉ**: ุชูุจููุงุช ูููุณุชุฎุฏููู ุนูู ุฌููุน ุงูููุตุงุช
- **ุชุชุจุน ุญุงูุฉ ุงูุทูุจุงุช**: Workflow ูุงูู ูู ุงููุจูุนุงุช ุญุชู ุงูุชุณููู
- **ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช**: ููุญุฉ ุชุญูู ุดุงููุฉ

## ๐๏ธ ูููู ุงููุดุฑูุน

```
najd/
โโโ apps/
โ   โโโ web/              # ุชุทุจูู Next.js ููููุจ
โ   โ   โโโ src/
โ   โ   โ   โโโ app/      # ุตูุญุงุช Next.js (App Router)
โ   โ   โ   โโโ components/
โ   โ   โ   โโโ contexts/
โ   โ   โ   โโโ hooks/
โ   โ   โ   โโโ lib/
โ   โ   โโโ package.json
โ   โ
โ   โโโ mobile/           # ุชุทุจูู React Native (Expo)
โ       โโโ src/
โ       โ   โโโ screens/
โ       โ   โโโ navigation/
โ       โ   โโโ contexts/
โ       โ   โโโ config/
โ       โโโ package.json
โ
โโโ packages/
โ   โโโ shared/           # ุฃููุงุน ููุธุงุฆู ูุดุชุฑูุฉ
โ       โโโ src/
โ           โโโ types/    # TypeScript Types
โ           โโโ constants/
โ           โโโ utils/
โ
โโโ functions/            # Cloud Functions
โ   โโโ src/
โ       โโโ triggers/     # Firebase Triggers
โ       โโโ scheduled/    # Scheduled Functions
โ
โโโ firestore.rules       # ููุงุนุฏ ุฃูุงู Firestore
โโโ storage.rules         # ููุงุนุฏ ุฃูุงู Storage
โโโ firestore.indexes.json
โโโ firebase.json
```

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

- Node.js 18+
- npm ุฃู yarn
- ุญุณุงุจ Firebase
- Expo CLI (ููููุจุงูู)

### 1. ุชุซุจูุช ุงูููุชุจุงุช

```bash
# ุชุซุจูุช ุงูููุชุจุงุช ููุฌุฐุฑ
npm install

# ุชุซุจูุช ุงูููุชุจุงุช ููู workspace
npm install --workspaces

# ุฃู ุชุซุจูุช ูู workspace ูุฏููุงู
cd apps/web && npm install
cd ../mobile && npm install
cd ../../packages/shared && npm install
cd ../../functions && npm install
```

### 2. ุฅุนุฏุงุฏ Firebase

```bash
# ุชุณุฌูู ุงูุฏุฎูู ูู Firebase
firebase login

# ุชููุฆุฉ ุงููุดุฑูุน (ุฅุฐุง ูู ููู ุชู ุจุงููุนู)
firebase init

# ูุณุฎ ูููุงุช ุงูุจูุฆุฉ
cp apps/web/.env.example apps/web/.env.local
cp apps/mobile/.env.example apps/mobile/.env.local

# ุฃุถู ูุนูููุงุช Firebase ุงูุฎุงุตุฉ ุจู
```

### 3. ุชุดุบูู ุงููุดุฑูุน

#### ุชุทุจูู ุงูููุจ

```bash
npm run dev:web
# ุฃู
cd apps/web && npm run dev
```

ุงูุชุทุจูู ุณูุนูู ุนูู: `http://localhost:3000`

#### ุชุทุจูู ุงูููุจุงูู

```bash
npm run dev:mobile
# ุฃู
cd apps/mobile && npm start
```

#### Cloud Functions (ูุญููุงู)

```bash
npm run dev:functions
# ุฃู
cd functions && npm run serve
```

### 4. ุงุณุชุฎุฏุงู Emulators

ูุชุดุบูู Firebase Emulators ูุญููุงู:

```bash
firebase emulators:start
```

ูุฐุง ุณูุดุบู:
- Firestore: `http://localhost:8080`
- Functions: `http://localhost:5001`
- Auth: `http://localhost:9099`
- Storage: `http://localhost:9199`
- UI: `http://localhost:4000`

## ๐ฅ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

### ุงูุฃุฏูุงุฑ ุงููุชุงุญุฉ

| ุงูุฏูุฑ | ุงูุตูุงุญูุงุช |
|------|-----------|
| **CEO** | ุงููุตูู ุงููุงููุ ุงูููุงููุฉ ุนูู ุงูุทูุจุงุชุ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู |
| **Sales** | ุฅูุดุงุก ุงูุทูุจุงุชุ ุชุนุฏูู ุทูุจุงุชูู |
| **Sales Head** | ูู ุตูุงุญูุงุช Sales + ุนุฑุถ ูู ุงูุทูุจุงุช |
| **Design** | ุงุณุชูุงู ุทูุจุงุช ุงูุชุตูููุ ุชุญุฏูุซ ุญุงูุชูุง |
| **Design Head** | ูู ุตูุงุญูุงุช Design + ุชุนููู ุงูููุงู |
| **Printing** | ุงุณุชูุงู ุทูุจุงุช ุงูุทุจุงุนุฉุ ุชุญุฏูุซ ุญุงูุชูุง |
| **Printing Head** | ูู ุตูุงุญูุงุช Printing + ุชุนููู ุงูููุงู |
| **Accounting** | ูุฑุงุฌุนุฉ ุงููุฏููุนุงุชุ ุชุฃููุฏ ุงูุฏูุน |
| **Accounting Head** | ูู ุตูุงุญูุงุช Accounting + ุงูุชูุงุฑูุฑ |
| **Dispatch** | ุชุญุฏูุซ ุญุงูุฉ ุงูุฅุฑุณุงูุ ุฅุฏุงุฑุฉ ุงูููุงุฏ |
| **Dispatch Head** | ูู ุตูุงุญูุงุช Dispatch + ุงูุชูุงุฑูุฑ |

## ๐ Workflow ุงูุทูุจุงุช

```
1. ุฅูุดุงุก ุงูุทูุจ (Sales)
   โ
2. ูุฑุงุฌุนุฉ ุงููุฏูุฑ (CEO)
   โ
3a. ุงูุชุตููู (ุฅุฐุง ูุงู ูุทููุจุงู)
   โ
3b. ุชุฌููุฒ ุงูููุงุฏ (ุฅุฐุง ูุงู ูุทููุจุงู)
   โ
4. ุงูุทุจุงุนุฉ
   โ
5. ุชุฃููุฏ ุงูุฏูุน (Accounting)
   โ
6. ุงูุฅุฑุณุงู ูุงูุชุณููู
   โ
7. ุงูุชูุงู ุงูุทูุจ โ
```

## ๐ ุงูุฃูุงู

### Firestore Security Rules

ุงูููุงุนุฏ ููุฌูุฏุฉ ูู `firestore.rules` ูุชุชุถูู:
- ุงูุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู
- ุงูุชุญูู ูู ุงูุฃุฏูุงุฑ
- ุตูุงุญูุงุช ูุฑุงุกุฉ/ูุชุงุจุฉ ูุญุฏุฏุฉ ููู collection

### Storage Rules

ุงูููุงุนุฏ ููุฌูุฏุฉ ูู `storage.rules` ูุชุชุถูู:
- ุงูุชุญูู ูู ุฃููุงุน ุงููููุงุช
- ุญุฏูุฏ ุญุฌู ุงููููุงุช
- ุตูุงุญูุงุช ุงููุตูู ุญุณุจ ุงููุณุชุฎุฏู

## ๐ ุงูุฅุดุนุงุฑุงุช

### ุฃููุงุน ุงูุฅุดุนุงุฑุงุช

- **ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ**: ููู CEO ููุฏูุฑ ุงููุจูุนุงุช
- **ุชุบููุฑ ุญุงูุฉ ุงูุทูุจ**: ูููุณู ุงููุณุคูู
- **ููุงููุฉ/ุฑูุถ**: ูุตุงุญุจ ุงูุทูุจ
- **ุชุนูููุงุช ุฌุฏูุฏุฉ**: ูููุนูููู ุจุงูุทูุจ
- **ุทูุจุงุช ุนุงุฌูุฉ**: ููุฌููุน

### ุฅุนุฏุงุฏ FCM

1. ูู ุจุฅุถุงูุฉ `google-services.json` ูู Android
2. ูู ุจุฅุถุงูุฉ `GoogleService-Info.plist` ูู iOS
3. ุชูุนูู Cloud Messaging ูู Firebase Console

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุชุดุบูู Tests

```bash
# Tests ููููุจ
cd apps/web && npm test

# Tests ููููุจุงูู
cd apps/mobile && npm test

# Tests ููู Functions
cd functions && npm test
```

## ๐ข ุงููุดุฑ

### ูุดุฑ Functions

```bash
npm run deploy:functions
# ุฃู
firebase deploy --only functions
```

### ูุดุฑ ุชุทุจูู ุงูููุจ

```bash
npm run deploy:web
# ุฃู
cd apps/web && npm run build
firebase deploy --only hosting
```

### ุจูุงุก ุชุทุจูู ุงูููุจุงูู

```bash
cd apps/mobile

# Android
expo build:android

# iOS
expo build:ios
```

## ๐ ุงููุซุงุฆู ุงูุชูุตูููุฉ

- [ุฅุนุฏุงุฏ Firebase](./FIREBASE_SETUP.md)
- [ุฏููู ุงููุณุชุฎุฏู](./docs/USER_GUIDE.md) *(ูุฑูุจุงู)*
- [ุฏููู ุงููุทูุฑ](./docs/DEVELOPER_GUIDE.md) *(ูุฑูุจุงู)*

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Frontend
- **Web**: Next.js 14, React 18, TypeScript, Tailwind CSS
- **Mobile**: React Native, Expo, TypeScript

### Backend
- **Firebase**:
  - Authentication
  - Firestore (Database)
  - Cloud Storage
  - Cloud Functions
  - Cloud Messaging (FCM)

### DevOps
- Firebase Hosting
- GitHub Actions *(ูุฑูุจุงู)*

## ๐ ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ูุดููุฉ: ูุง ูููู ุงูุงุชุตุงู ุจู Firebase

**ุงูุญู**: ุชุฃูุฏ ูู:
1. ุฅุถุงูุฉ ูููุงุช `.env` ุงูุตุญูุญุฉ
2. ุชูุนูู ุงูุฎุฏูุงุช ุงููุทููุจุฉ ูู Firebase Console
3. ุชุดุบูู Emulators ุฅุฐุง ููุช ูู ูุถุน ุงูุชุทููุฑ

### ูุดููุฉ: ุฎุทุฃ ูู ุงูุตูุงุญูุงุช

**ุงูุญู**: ุชุฃูุฏ ูู:
1. ูุดุฑ Security Rules: `firebase deploy --only firestore:rules`
2. ุงูุชุญูู ูู ุฏูุฑ ุงููุณุชุฎุฏู ูู Firestore
3. ูุฑุงุฌุนุฉ ููุงุนุฏ ุงูุฃูุงู ูู `firestore.rules`

### ูุดููุฉ: ุงูุฅุดุนุงุฑุงุช ูุง ุชุนูู

**ุงูุญู**: ุชุฃูุฏ ูู:
1. ุฅุถุงูุฉ ูููุงุช `google-services.json` ู `GoogleService-Info.plist`
2. ุชูุนูู Cloud Messaging ูู Firebase Console
3. ุทูุจ ุงูุตูุงุญูุงุช ูู ุงููุณุชุฎุฏู

## ๐ค ุงููุณุงููุฉ

ูุฐุง ูุดุฑูุน ุฏุงุฎูู ูุดุฑูุฉ ูุฌุฏ.

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููู ุฎุงุต ูุดุฑูุฉ ูุฌุฏ. ุฌููุน ุงูุญููู ูุญููุธุฉ.

## ๐ ุงูุฏุนู

ููุฏุนู ุงูููู ุฃู ุงูุฃุณุฆูุฉ:
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: support@najd.com *(ูุซุงู)*
- ุงููุงุชู: +966-XX-XXX-XXXX *(ูุซุงู)*

---

ยฉ 2024 ุดุฑูุฉ ูุฌุฏ. ุฌููุน ุงูุญููู ูุญููุธุฉ.

</div>

# najd
