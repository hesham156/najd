# ØªÙØ¹ÙŠÙ„ Firebase Storage âš ï¸

## ğŸ› Ø§Ù„Ù…Ø´ÙƒÙ„Ø©

```
Error: Firebase Storage has not been set up on project 'najd-5e7c7'
```

**Ø§Ù„Ø³Ø¨Ø¨:** Firebase Storage ØºÙŠØ± Ù…ÙØ¹Ù‘Ù„ ÙÙŠ Ù…Ø´Ø±ÙˆØ¹Ùƒ!

## âœ… Ø§Ù„Ø­Ù„: ØªÙØ¹ÙŠÙ„ Firebase Storage

### Ø§Ù„Ø®Ø·ÙˆØ§Øª (5 Ø¯Ù‚Ø§Ø¦Ù‚):

#### 1. Ø§ÙØªØ­ Firebase Console

Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø·:
```
https://console.firebase.google.com/project/najd-5e7c7/storage
```

Ø£Ùˆ:
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://console.firebase.google.com
2. Ø§Ø®ØªØ± Ù…Ø´Ø±ÙˆØ¹ `najd-5e7c7`
3. Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© â†’ **Storage**

#### 2. Ø§Ù†Ù‚Ø± "Get Started"

Ø³ØªØ¸Ù‡Ø± Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø©:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Get started with Cloud        â”‚
â”‚   Storage for Firebase          â”‚
â”‚                                 â”‚
â”‚   [ Get started ]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ **"Get started"**

#### 3. Ø§Ø®ØªØ± Security Rules

Ø³ØªØ¸Ù‡Ø± 3 Ø®ÙŠØ§Ø±Ø§Øª:

**Option 1: Test mode (Ù„Ù„ØªØ·ÙˆÙŠØ±)** âœ… Ø§Ø®ØªØ± Ù‡Ø°Ø§
```
allow read, write: if request.time < timestamp.date(2025, 12, 1);
```

**Option 2: Production mode (Ù…Ù‚ÙÙ„)**
```
allow read, write: if false;
```

**Option 3: Custom rules**

**Ù„Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¢Ù†:** Ø§Ø®ØªØ± **Test mode** Ø«Ù… Ø§Ù†Ù‚Ø± **Next**

#### 4. Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Location)

Ø§Ø®ØªØ± Ø£Ù‚Ø±Ø¨ Ù…ÙˆÙ‚Ø¹ Ù„Ùƒ:
- `asia-south1` (Mumbai) - Ù„Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø·
- `europe-west1` (Belgium) - Ù„Ø£ÙˆØ±ÙˆØ¨Ø§
- `us-central1` (Iowa) - Ù„Ø£Ù…Ø±ÙŠÙƒØ§

âš ï¸ **Ù…Ù„Ø§Ø­Ø¸Ø©:** Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ± Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±!

Ø§Ù†Ù‚Ø± **Done**

#### 5. Ø§Ù†ØªØ¸Ø± Ø§Ù„ØªÙØ¹ÙŠÙ„

Ø³ÙŠØ³ØªØºØ±Ù‚ Ø­ÙˆØ§Ù„ÙŠ 1-2 Ø¯Ù‚ÙŠÙ‚Ø©.

Ø³ØªØ¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø©:
```
âœ“ Cloud Storage is ready
```

## âœ… Ø¨Ø¹Ø¯ Ø§Ù„ØªÙØ¹ÙŠÙ„

### 1. Ù†Ø´Ø± Storage Rules Ø§Ù„ØµØ­ÙŠØ­Ø©

```bash
firebase deploy --only storage
```

### 2. Ø§Ø®ØªØ¨Ø± Ø±ÙØ¹ Ù…Ù„Ù

1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: http://localhost:3000/orders/new
2. Ø§Ù…Ù„Ø£ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
3. Ø£Ø±ÙÙ‚ Ù…Ù„Ù PDF
4. Ø£Ø±Ø³Ù„ Ø§Ù„Ø·Ù„Ø¨
5. ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ù…Ù„ Ø§Ù„Ø¢Ù†! âœ…

---

## ğŸ”’ Security Rules Ø§Ù„ØµØ­ÙŠØ­Ø© (Ù„Ù„Ø¥Ù†ØªØ§Ø¬)

Ø¨Ø¹Ø¯ Ø§Ù„ØªØ·ÙˆÙŠØ±ØŒ ØºÙŠÙ‘Ø± Rules ÙÙŠ Ù…Ù„Ù `storage.rules`:

```
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // Ù…Ù„ÙØ§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª
    match /orders/{orderId}/{fileName} {
      // Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©: Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ù…Ø³Ø¬Ù„ÙˆÙ† ÙÙ‚Ø·
      allow read: if request.auth != null;
      
      // Ø§Ù„ÙƒØªØ§Ø¨Ø©: Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ù…Ø³Ø¬Ù„ÙˆÙ† + Ø­Ø¯ Ø£Ù‚ØµÙ‰ 10MB
      allow write: if request.auth != null
                   && request.resource.size < 10 * 1024 * 1024;
    }
    
    // Ù…Ù†Ø¹ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ø£ÙŠ Ø´ÙŠØ¡ Ø¢Ø®Ø±
    match /{allPaths=**} {
      allow read, write: if false;
    }
  }
}
```

Ø«Ù… Ù†Ø´Ø±Ù‡Ø§:
```bash
firebase deploy --only storage
```

---

## ğŸ“‹ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨

```
1. âœ… Ø§ÙØªØ­: https://console.firebase.google.com/project/najd-5e7c7/storage
2. âœ… Ø§Ù†Ù‚Ø± "Get started"
3. âœ… Ø§Ø®ØªØ± "Test mode"
4. âœ… Ø§Ù†Ù‚Ø± "Next"
5. âœ… Ø§Ø®ØªØ± Location (asia-south1)
6. âœ… Ø§Ù†Ù‚Ø± "Done"
7. âœ… Ø§Ù†ØªØ¸Ø± Ø§Ù„ØªÙØ¹ÙŠÙ„ (1-2 Ø¯Ù‚ÙŠÙ‚Ø©)
8. âœ… ÙÙŠ Terminal: firebase deploy --only storage
9. âœ… Ø§Ø®ØªØ¨Ø± Ø±ÙØ¹ Ù…Ù„Ù ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
```

---

## ğŸ¯ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ ÙˆØ§Ù„Ù†Ø´Ø±

### Ø¥Ø°Ø§ Ø§Ø³ØªÙ…Ø±Øª Ù…Ø´ÙƒÙ„Ø© CORS:

Ø§Ø³ØªØ®Ø¯Ù… Google Cloud SDK Ù„ØªØ·Ø¨ÙŠÙ‚ CORS:

```bash
# 1. ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
gcloud auth login

# 2. ØªØ·Ø¨ÙŠÙ‚ CORS
gsutil cors set cors.json gs://najd-5e7c7.firebasestorage.app

# 3. Ø§Ù„ØªØ­Ù‚Ù‚
gsutil cors get gs://najd-5e7c7.firebasestorage.app
```

**Ù…Ù„Ù cors.json Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹** âœ…

---

## ğŸ“Š Ø§Ù„Ù…Ù„Ø®Øµ

| Ø§Ù„Ø®Ø·ÙˆØ© | Ø§Ù„Ø­Ø§Ù„Ø© |
|--------|--------|
| ØªÙØ¹ÙŠÙ„ Firebase Storage | â³ Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± |
| Ù†Ø´Ø± Storage Rules | â³ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ |
| ØªØ·Ø¨ÙŠÙ‚ CORS (Ø¥Ø°Ø§ Ù„Ø²Ù…) | â³ Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø´Ø± |
| Ø§Ø®ØªØ¨Ø§Ø± Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª | â³ Ø¨Ø¹Ø¯ ÙƒÙ„ Ø´ÙŠØ¡ |

---

## ğŸ†˜ Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ù…Ø´ÙƒÙ„Ø©

### Ù„Ø§ ÙŠØ¸Ù‡Ø± Ø²Ø± "Get started"ØŸ

ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ:
- Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø¨Ø­Ø³Ø§Ø¨ ØµØ§Ø­Ø¨ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
- Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ§Øª Owner Ø£Ùˆ Editor
- ÙÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„ØµØ­ÙŠØ­ (najd-5e7c7)

### Ø®Ø·Ø£ "Permission denied"ØŸ

ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ù…Ø§Ù„Ùƒ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù„Ø¥Ø¹Ø·Ø§Ø¦Ùƒ ØµÙ„Ø§Ø­ÙŠØ§Øª.

### Location ØºÙŠØ± Ù…ØªØ§Ø­ØŸ

Ø§Ø®ØªØ± Ø£Ù‚Ø±Ø¨ location Ù…ØªØ§Ø­.

---

## âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©

Ø¨Ø¹Ø¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ ÙˆØ§Ù„Ù†Ø´Ø±:
- âœ… ÙŠÙ…ÙƒÙ† Ø±ÙØ¹ Ù…Ù„ÙØ§Øª PDF ÙÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- âœ… Ù„Ø§ Ø£Ø®Ø·Ø§Ø¡ CORS
- âœ… Ø§Ù„Ù…Ù„ÙØ§Øª ØªØ¸Ù‡Ø± ÙÙŠ Firebase Storage
- âœ… ÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ù† ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨

---

**Ø§Ø¨Ø¯Ø£ Ø¨ØªÙØ¹ÙŠÙ„ Storage Ø§Ù„Ø¢Ù†!** âš¡

Â© 2024 Ø´Ø±ÙƒØ© Ù†Ø¬Ø¯ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©


