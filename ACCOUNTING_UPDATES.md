# ๐ ุชุญุฏูุซุงุช ูุณู ุงูุญุณุงุจุงุช - ููุฎุต ุงูุชุบููุฑุงุช

## โ ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ

ุชู ุชุญุฏูุซ ุงููุธุงู ููุนูุณ ุงุฎุชุตุงุต **ูุณู ุงูุญุณุงุจุงุช** ูู **ุฅูุดุงุก ุนุฑูุถ ุงูุฃุณุนุงุฑ ูุงูููุงุชูุฑ**.

---

## ๐ ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ

### 1. โ ุชุญุฏูุซ ุงูุตูุงุญูุงุช

**ุงูููู:** `packages/shared/src/types/user.types.ts`

ุชู ุฅุถุงูุฉ ุตูุงุญูุงุช ุฌุฏูุฏุฉ ููุณู ุงูุญุณุงุจุงุช:

```typescript
// ุตูุงุญูุงุช ุนุฑูุถ ุงูุฃุณุนุงุฑ ูุงูููุงุชูุฑ
canCreateQuotation: boolean;      // ุฅูุดุงุก ุนุฑุถ ุณุนุฑ
canEditQuotation: boolean;        // ุชุนุฏูู ุนุฑุถ ุณุนุฑ
canApproveQuotation: boolean;     // ุงูููุงููุฉ ุนูู ุนุฑุถ ุณุนุฑ
canCreateInvoice: boolean;        // ุฅูุดุงุก ูุงุชูุฑุฉ
canEditInvoice: boolean;          // ุชุนุฏูู ูุงุชูุฑุฉ
canManagePayments: boolean;       // ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช
```

**ุงููุญุงุณุจ** ููุฏูุฑ ุงูุญุณุงุจุงุช **ูุฏููู ุฌููุน ูุฐู ุงูุตูุงุญูุงุช ุจุดูู ุงูุชุฑุงุถู**.

---

### 2. โ ุฃููุงุน ุจูุงูุงุช ุฌุฏูุฏุฉ

#### ุฃ) ุนุฑูุถ ุงูุฃุณุนุงุฑ (Quotations)
**ุงูููู:** `packages/shared/src/types/quotation.types.ts`

ูุชุถูู:
- `QuotationStatus` - ุญุงูุงุช ุนุฑุถ ุงูุณุนุฑ (11 ุญุงูุฉ)
- `Quotation` - ุจููุฉ ุนุฑุถ ุงูุณุนุฑ ุงููุงููุฉ
- `QuotationItem` - ุจูุฏ ูู ุนุฑุถ ุงูุณุนุฑ
- `PaymentTerms` - ุดุฑูุท ุงูุฏูุน
- ุฏูุงู ูุณุงุนุฏุฉ:
  - `calculateQuotationTotal()` - ุญุณุงุจ ุงููุฌููุน
  - `isQuotationExpired()` - ุงูุชุญูู ูู ุงูุตูุงุญูุฉ
  - `getNextQuotationActions()` - ุงูุฅุฌุฑุงุกุงุช ุงููุชุงุญุฉ

#### ุจ) ุงูููุงุชูุฑ (Invoices)
**ุงูููู:** `packages/shared/src/types/invoice.types.ts`

ูุชุถูู:
- `InvoiceStatus` - ุญุงูุงุช ุงููุงุชูุฑุฉ (9 ุญุงูุงุช)
- `InvoiceType` - ุฃููุงุน ุงูููุงุชูุฑ (4 ุฃููุงุน)
- `Invoice` - ุจููุฉ ุงููุงุชูุฑุฉ ุงููุงููุฉ
- `InvoiceItem` - ุจูุฏ ูู ุงููุงุชูุฑุฉ
- `PaymentRecord` - ุณุฌู ุฏูุนุฉ
- ุฏูุงู ูุณุงุนุฏุฉ:
  - `calculateInvoiceTotal()` - ุญุณุงุจ ุงููุฌููุน
  - `calculateRemainingAmount()` - ุญุณุงุจ ุงููุชุจูู
  - `isInvoiceOverdue()` - ุงูุชุญูู ูู ุงูุชุฃุฎูุฑ
  - `getPaymentPercentage()` - ูุณุจุฉ ุงูุฏูุน
  - `updateInvoiceStatus()` - ุชุญุฏูุซ ุงูุญุงูุฉ

---

### 3. โ ุชุญุฏูุซ ุฃููุงุน ุงูุทูุจุงุช

**ุงูููู:** `packages/shared/src/types/order.types.ts`

ุชู ุฅุถุงูุฉ ุญููู ุฌุฏูุฏุฉ ููุฑุจุท ูุน ุนุฑูุถ ุงูุฃุณุนุงุฑ ูุงูููุงุชูุฑ:

```typescript
interface Order {
  // ... ุงูุญููู ุงูููุฌูุฏุฉ
  
  // ุนุฑูุถ ุงูุฃุณุนุงุฑ ูุงูููุงุชูุฑ ุงููุฑุชุจุทุฉ
  isQuotation?: boolean;              // ูู ูู ุทูุจ ุนุฑุถ ุณุนุฑ
  quotationId?: string;               // ูุนุฑู ุนุฑุถ ุงูุณุนุฑ ุงููุฑุชุจุท
  quotationNumber?: string;           // ุฑูู ุนุฑุถ ุงูุณุนุฑ ุงููุฑุชุจุท
  quotationApprovedAt?: string;       // ุชุงุฑูุฎ ููุงููุฉ ุงูุนููู
  invoiceId?: string;                 // ูุนุฑู ุงููุงุชูุฑุฉ ุงููุฑุชุจุทุฉ
  invoiceNumber?: string;             // ุฑูู ุงููุงุชูุฑุฉ ุงููุฑุชุจุทุฉ
  invoiceIssuedAt?: string;           // ุชุงุฑูุฎ ุฅุตุฏุงุฑ ุงููุงุชูุฑุฉ
}
```

---

### 4. โ ุชุตุฏูุฑ ุงูุฃููุงุน ุงูุฌุฏูุฏุฉ

**ุงูููู:** `packages/shared/src/types/index.ts`

ุชู ุฅุถุงูุฉ:
```typescript
export * from './quotation.types';
export * from './invoice.types';
```

---

### 5. โ ููุญุฉ ุชุญูู ูุณู ุงูุญุณุงุจุงุช

**ุงูููู:** `apps/web/src/app/accounting/page.tsx`

ุชู ุฅูุดุงุก ููุญุฉ ุชุญูู ูุงููุฉ ุชุดูู:

#### ุงูุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ:
- ๐ฐ ุงููุฏููุนุงุช ุงููุณุชููุฉ
- โฑ๏ธ ุงููุจุงูุบ ุงููุนููุฉ
- ๐ ุนุฑูุถ ุงูุฃุณุนุงุฑ
- ๐งพ ุงูููุงุชูุฑ

#### ุงูุฅุฌุฑุงุกุงุช ุงูุณุฑูุนุฉ:
- โ ุฅูุดุงุก ุนุฑุถ ุณุนุฑ ุฌุฏูุฏ
- โ ุฅูุดุงุก ูุงุชูุฑุฉ ุฌุฏูุฏุฉ
- ๐ ุฅุฏุงุฑุฉ ุนุฑูุถ ุงูุฃุณุนุงุฑ
- ๐งพ ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ

#### ุงูููุงุฆู:
- ุนุฑูุถ ุงูุฃุณุนุงุฑ ุงูุฃุฎูุฑุฉ
- ุงูููุงุชูุฑ ุงููุชุฃุฎุฑุฉ ูุงููุนููุฉ

#### ุงูุชูุงุฑูุฑ:
- ุชูุฑูุฑ ุนุฑูุถ ุงูุฃุณุนุงุฑ
- ุชูุฑูุฑ ุงูููุงุชูุฑ
- ุงูุชูุฑูุฑ ุงููุงูู

**ุงูุฑุงุจุท:** `http://localhost:3000/accounting`

---

### 6. โ ุงูุชูุซูู ุงูุดุงูู

**ุงูููู:** `ACCOUNTING_DEPARTMENT.md`

ุชู ุฅูุดุงุก ุฏููู ุดุงูู ูุชุถูู:
- ูุธุฑุฉ ุนุงูุฉ ุนูู ูุณู ุงูุญุณุงุจุงุช
- ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช
- ุดุฑุญ ุนุฑูุถ ุงูุฃุณุนุงุฑ ูุงูููุงุชูุฑ
- ุฏูุฑุฉ ุญูุงุฉ ูู ููููุง
- ุณูุฑ ุงูุนูู ุงููุงูู
- ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู
- ุงูููุงู ุงูููููุฉ
- ูุงุฆูุฉ ุงูุชุญูู
- ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

---

## ๐ฏ ุงูุตูุงุญูุงุช ุงูููุงุฆูุฉ ููุณู ุงูุญุณุงุจุงุช

### ุงููุญุงุณุจ (Accounting)

```typescript
{
  canReviewOrder: true,              โ
  canApproveOrder: true,             โ
  canViewDepartmentOrders: true,     โ
  canCreateQuotation: true,          โ ุฌุฏูุฏ
  canEditQuotation: true,            โ ุฌุฏูุฏ
  canApproveQuotation: true,         โ ุฌุฏูุฏ
  canCreateInvoice: true,            โ ุฌุฏูุฏ
  canEditInvoice: true,              โ ุฌุฏูุฏ
  canManagePayments: true,           โ ุฌุฏูุฏ
}
```

### ูุฏูุฑ ุงูุญุณุงุจุงุช (Accounting Head)

```typescript
{
  ...ุตูุงุญูุงุช ุงููุญุงุณุจ,
  canViewAllOrders: true,            โ
  canGenerateReports: true,          โ
}
```

---

## ๐ ุฏูุฑุฉ ุงูุนูู ุงููุงููุฉ

```
1. ุงูุนููู ูุทูุจ ุนุฑุถ ุณุนุฑ
   โ
2. ุงููุจูุนุงุช ููุดุฆ ุทูุจ (isQuotation: true)
   โ
3. ูุณู ุงูุญุณุงุจุงุช ููุดุฆ ุนุฑุถ ุงูุณุนุฑ
   โโ ูุญุฏุฏ ุงูุจููุฏ ูุงูุฃุณุนุงุฑ
   โโ ูุถูู ุดุฑูุท ุงูุฏูุน
   โโ ูุญุฏุฏ ุชุงุฑูุฎ ุงูุตูุงุญูุฉ
   โ
4. ูุฑุงุฌุนุฉ ุฏุงุฎููุฉ ูููุงููุฉ
   โ
5. ุฅุฑุณุงู ุนุฑุถ ุงูุณุนุฑ ููุนููู
   โ
6. ุงูุนููู ููุงูู โ
   โ
7. ุชุญููู ุนุฑุถ ุงูุณุนุฑ ูุทูุจ ุชูููุฐ
   โ
8. ุณูุฑ ุงูุนูู ุงููุนุชุงุฏ (ุชุตููู โ ุทุจุงุนุฉ)
   โ
9. ุจุนุฏ ุงูุชูุงู ุงูุชูููุฐ
   โ
10. ูุณู ุงูุญุณุงุจุงุช ูุตุฏุฑ ุงููุงุชูุฑุฉ
    โโ ูุฑุจุทูุง ุจุงูุทูุจ ูุนุฑุถ ุงูุณุนุฑ
    โโ ูุถูู ุงูุจููุฏ ูุงููุจูุบ ุงูููุงุฆู
    โโ ูุญุณุจ ุงูุถุฑูุจุฉ (15%)
    โ
11. ุฅุฑุณุงู ุงููุงุชูุฑุฉ ููุนููู
    โ
12. ุชุณุฌูู ุงููุฏููุนุงุช
    โโ ุฏูุนุฉ ูุงููุฉ ุฃู ุฌุฒุฆูุฉ
    โโ ุชุณุฌูู ุทุฑููุฉ ุงูุฏูุน
    โโ ุฅุตุฏุงุฑ ุณูุฏ ูุจุถ
    โ
13. ุจุนุฏ ุงูุฏูุน ุงููุงูู
    โ
14. ุงูุฅุฑุณุงู ูุงูุชุณููู
```

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (TODO)

### ุงููุฑุญูุฉ ุงูุชุงููุฉ - ุงูุชุทููุฑ:

1. **ุตูุญุงุช ุฅูุดุงุก ูุฅุฏุงุฑุฉ ุนุฑูุถ ุงูุฃุณุนุงุฑ:**
   - [ ] `/accounting/quotations/new` - ุฅูุดุงุก ุนุฑุถ ุณุนุฑ
   - [ ] `/accounting/quotations` - ูุงุฆูุฉ ุนุฑูุถ ุงูุฃุณุนุงุฑ
   - [ ] `/accounting/quotations/[id]` - ุชูุงุตูู ุนุฑุถ ุงูุณุนุฑ

2. **ุตูุญุงุช ุฅูุดุงุก ูุฅุฏุงุฑุฉ ุงูููุงุชูุฑ:**
   - [ ] `/accounting/invoices/new` - ุฅูุดุงุก ูุงุชูุฑุฉ
   - [ ] `/accounting/invoices` - ูุงุฆูุฉ ุงูููุงุชูุฑ
   - [ ] `/accounting/invoices/[id]` - ุชูุงุตูู ุงููุงุชูุฑุฉ

3. **ุตูุญุงุช ุงูุชูุงุฑูุฑ:**
   - [ ] `/accounting/reports/quotations` - ุชูุฑูุฑ ุนุฑูุถ ุงูุฃุณุนุงุฑ
   - [ ] `/accounting/reports/invoices` - ุชูุฑูุฑ ุงูููุงุชูุฑ
   - [ ] `/accounting/reports/financial` - ุงูุชูุฑูุฑ ุงููุงูู

4. **Cloud Functions:**
   - [ ] ุฅูุดุงุก ุนุฑุถ ุณุนุฑ
   - [ ] ุชุญููู ุนุฑุถ ุณุนุฑ ูุทูุจ
   - [ ] ุฅูุดุงุก ูุงุชูุฑุฉ
   - [ ] ุชุณุฌูู ุฏูุนุฉ
   - [ ] ุชุญุฏูุซ ุญุงูุฉ ุงููุงุชูุฑุฉ ุชููุงุฆูุงู
   - [ ] ุฅุดุนุงุฑุงุช ุงูุชุฃุฎูุฑ

5. **Firestore Rules:**
   - [ ] ุตูุงุญูุงุช ูุฑุงุกุฉ/ูุชุงุจุฉ ุนุฑูุถ ุงูุฃุณุนุงุฑ
   - [ ] ุตูุงุญูุงุช ูุฑุงุกุฉ/ูุชุงุจุฉ ุงูููุงุชูุฑ
   - [ ] ุตูุงุญูุงุช ุชุณุฌูู ุงููุฏููุนุงุช

6. **ููุฒุงุช ุฅุถุงููุฉ:**
   - [ ] ุชุตุฏูุฑ ุนุฑุถ ุงูุณุนุฑ ูู PDF
   - [ ] ุชุตุฏูุฑ ุงููุงุชูุฑุฉ ูู PDF
   - [ ] ุฅุฑุณุงู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - [ ] ููุงูุจ ุฌุงูุฒุฉ ูุนุฑูุถ ุงูุฃุณุนุงุฑ
   - [ ] ุญุงุณุจุฉ ุงูุถุฑูุจุฉ
   - [ ] ุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ

---

## ๐ ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ

### ูููุงุช ุฌุฏูุฏุฉ:
1. โ `packages/shared/src/types/quotation.types.ts` - ุฃููุงุน ุนุฑูุถ ุงูุฃุณุนุงุฑ
2. โ `packages/shared/src/types/invoice.types.ts` - ุฃููุงุน ุงูููุงุชูุฑ
3. โ `apps/web/src/app/accounting/page.tsx` - ููุญุฉ ุชุญูู ูุณู ุงูุญุณุงุจุงุช
4. โ `ACCOUNTING_DEPARTMENT.md` - ุฏููู ูุณู ุงูุญุณุงุจุงุช
5. โ `ACCOUNTING_UPDATES.md` - ููุฎุต ุงูุชุญุฏูุซุงุช (ูุฐุง ุงูููู)

### ูููุงุช ูุนุฏูุฉ:
1. โ `packages/shared/src/types/user.types.ts` - ุฅุถุงูุฉ ุตูุงุญูุงุช ุฌุฏูุฏุฉ
2. โ `packages/shared/src/types/order.types.ts` - ุฅุถุงูุฉ ุญููู ุงูุฑุจุท
3. โ `packages/shared/src/types/index.ts` - ุชุตุฏูุฑ ุงูุฃููุงุน ุงูุฌุฏูุฏุฉ

---

## ๐ ููุจุฏุก

### 1. ุฅูุดุงุก ูุณุชุฎุฏู ุญุณุงุจุงุช:

ุงุณุชุฎุฏู ุตูุญุฉ ุฅูุดุงุก ุงููุณุชุฎุฏููู:
```
http://localhost:3000/create-user
```

ุงุฎุชุฑ ุงูุฏูุฑ:
- **ูุญุงุณุจ** (Accounting)
- **ูุฏูุฑ ุงูุญุณุงุจุงุช** (Accounting Head)

### 2. ุชุณุฌูู ุงูุฏุฎูู:
```
http://localhost:3000/login
```

### 3. ุงููุตูู ูููุญุฉ ุงูุชุญูู:
```
http://localhost:3000/accounting
```

---

## โ ุงูููุฎุต

ุชู ุชุญุฏูุซ ุงููุธุงู ุจูุฌุงุญ ููุนูุณ ุฏูุฑ **ูุณู ุงูุญุณุงุจุงุช** ููุณู ูุฎุชุต ูู:

โ **ุฅูุดุงุก ุนุฑูุถ ุงูุฃุณุนุงุฑ (Quotations)**
โ **ุฅุตุฏุงุฑ ุงูููุงุชูุฑ (Invoices)**
โ **ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช ูุงููุณุชุญูุงุช**
โ **ูุชุงุจุนุฉ ุงูููุงุชูุฑ ุงููุชุฃุฎุฑุฉ**
โ **ุฅุนุฏุงุฏ ุงูุชูุงุฑูุฑ ุงููุงููุฉ**

ุฌููุน ุงูุตูุงุญูุงุช ูุงูุฃููุงุน ูุงูุจููุฉ ุงูุฃุณุงุณูุฉ ุฌุงูุฒุฉ ุงูุขู. ุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ุชุทููุฑ ุงูุตูุญุงุช ูุงููุงุฌูุงุช ุงููุงููุฉ.

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 4 ููููุจุฑ 2025

ยฉ 2024 ุดุฑูุฉ ูุฌุฏ - ุฌููุน ุงูุญููู ูุญููุธุฉ


